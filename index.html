<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lahmacun Sarayƒ± Kampanya - Akdeniz √úniversitesi √ñƒürencilerine √ñzel</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

/* Genel Body */
body {
  margin:0;
  font-family:'Poppins',sans-serif;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  color:#fff;
  text-align:center;
}

/* Card Tasarƒ±mƒ± */
.card {
  background: rgba(0,0,0,0.75);
  padding: 40px;
  border-radius: 25px;
  max-width: 450px;
  box-shadow: 0 0 40px rgba(0,0,0,0.5), 0 0 80px rgba(255,105,135,0.3);
  backdrop-filter: blur(12px);
  transition: all 0.3s ease;
}

/* Ba≈ülƒ±k */
h1 {
  font-size: 2.2em;
  margin-bottom: 10px;
  text-shadow: 0 0 10px #ff6b6b, 0 0 20px #ff4040;
}

/* Mesaj */
p {
  font-size: 1.2em;
  margin: 5px 0;
}

/* Stok sayƒ±sƒ± */
.stok {
  font-size: 2.5em;
  font-weight: 700;
  margin: 15px 0;
  text-shadow: 0 0 10px #fff;
  transition: all 0.3s ease;
}

/* Pulse animasyonu */
.pulse {
  animation: pulse 1s infinite;
}

/* Pulse keyframes */
@keyframes pulse {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.15); }
}

/* Kampanya etiketi */
.campaign-tag {
  font-size: 1em;
  font-weight: 600;
  color: #fff;
  background: #ff4040;
  padding: 5px 15px;
  border-radius: 12px;
  margin-bottom: 15px;
  display: inline-block;
  text-shadow: 0 0 5px #fff;
}

/* Stok bar container */
.stok-bar-container {
  width: 100%;
  background: rgba(255,255,255,0.1);
  border-radius: 15px;
  overflow: hidden;
  height: 30px;
  margin: 20px 0;
  box-shadow: inset 0 0 10px rgba(255,255,255,0.3);
}

/* Dinamik stok barƒ± */
.stok-bar {
  height: 100%;
  width: 0%;
  border-radius: 15px;
  background: linear-gradient(90deg, #00ff00, #ffff00, #ff0000);
  box-shadow: 0 0 10px #00ff00, 0 0 20px #ffff00, 0 0 30px #ff0000;
  transition: width 0.5s ease, box-shadow 0.3s ease, background 0.5s ease;
}

/* Buton */
button {
  margin-top: 15px;
  padding: 12px 25px;
  background: linear-gradient(90deg, #ff6b6b, #ff4040);
  color:white;
  border:none;
  border-radius:15px;
  font-size:1em;
  cursor:pointer;
  font-weight:600;
  text-shadow: 0 0 5px #fff;
  transition: all 0.3s ease;
}

button:hover {
  background: linear-gradient(90deg, #ff4040, #ff6b6b);
  transform: scale(1.05);
  box-shadow: 0 0 20px #ff4040, 0 0 40px #ff6b6b;
}
</style>
</head>
<body>
<div class="card">
  <div class="campaign-tag">üéì Akdeniz √úniversitesi √ñƒürencilerine √ñzel Kampanya</div>
  <h1>üçΩÔ∏è Lahmacun Sarayƒ±</h1>
  <p id="mesaj">Y√ºkleniyor...</p>
  <p class="stok" id="stok">0</p>
  <div class="stok-bar-container">
    <div class="stok-bar" id="stokBar"></div>
  </div>
  <button onclick="callNumber()">üìû Hemen Ara</button>
</div>

<script>
const API_URL="https://script.googleusercontent.com/macros/echo?user_content_key=AehSKLjOnWbxjmdv8n1rvjsuER1Y12nek7Q6QbekIGfp7eP4sxcPUturUITQkTaAR5Gads4bQsEUgGS8fX5pqHCXf-BCrnE6Eht_bEeGWZTCslj8N-GOMxqPovrBOss43mMwo_squagjqA0XF4epCO6ZaepQDF8fyHuHYCMZ3SoWzam2gN_3nVv_qXDvpv_GmwRMokjZAufGBLeii71Cv1BXU7luQga4HO5pA51aDywN4AzXs-xOou2pwTgaZJTQLSsZ65xZTa_nTuGCyZXbJeOjwGX1qo8pI4gTQOaBEWXl&lib=MlHkF3w4xHOoPvBjcOm52CvJxhXkFdEQ1"; // Apps Script URL
const MAX_STOK=100;

async function fetchData(){
  try{
    const res = await fetch(API_URL);
    const data = await res.json();
    
    document.getElementById('mesaj').textContent = data.mesaj || "Bug√ºn kampanya var!";
    const stokEl = document.getElementById('stok');
    let stok = data.stok ?? 0;
    stokEl.textContent = stok;

    // Pulse efekti ve glow
    if(stok <= 20){
      stokEl.classList.add('pulse');
    } else {
      stokEl.classList.remove('pulse');
    }

    // Stok barƒ± dinamik renk ge√ßi≈üli
    const bar = document.getElementById('stokBar');
    let width = (stok / MAX_STOK) * 100;
    bar.style.width = width + "%";

    // Renk ge√ßi≈üi ye≈üilden kƒ±rmƒ±zƒ±ya
    const red = Math.min(255, Math.floor((1 - stok/MAX_STOK) * 255));
    const green = Math.min(255, Math.floor((stok/MAX_STOK) * 255));
    bar.style.background = `linear-gradient(90deg, rgb(${green},${red},0), rgb(${green},${red},0))`;

    // Neon glow
    bar.style.boxShadow = `0 0 ${10 + (100-stok)/10}px rgb(${green},${red},0), 0 0 ${20 + (100-stok)/5}px rgb(${green},${red},0), 0 0 ${30 + (100-stok)/3}px rgb(${green},${red},0)`;

  } catch(err){
    document.getElementById('mesaj').textContent = "Veri y√ºklenemedi üò¢";
    document.getElementById('stok').textContent = "-";
    document.getElementById('stokBar').style.width="0%";
    console.error(err);
  }
}

function callNumber(){ window.location.href="tel:05404630707"; }

fetchData();
setInterval(fetchData,30000);
</script>
</body>
</html>
